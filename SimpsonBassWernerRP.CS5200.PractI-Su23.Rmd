---
title: "Practicum I CS5200"
authors: "Rupert Simpson, Paula Bass Werner"
date: "Summer Full 2023"
output: html_notebook
---

## Connect to Database

```{r ConnectToDatabase, eval = T, warning = F}
library(RMySQL)

host <- "sql9.freemysqlhosting.net"
username <- "sql9627585"
password <- "2JUXlIEk39"
dbname <- "sql9627585"

dbcon <- dbConnect(
  MySQL(),
  user = username,
  password = password,
  dbname = dbname,
  host = host
)
```

## Create Database

```{sql CreateAirportsTable, connection=dbcon}
CREATE TABLE IF NOT EXISTS airports (
  aid INT PRIMARY KEY AUTO_INCREMENT,
  airportState TEXT,
  airportCode TEXT
);
```

```{sql CreateFlightTable, connection=dbcon}
CREATE TABLE IF NOT EXISTS flights (
  fid INT PRIMARY KEY,
  date DATE,
  origin INT,
  airline TEXT,
  aircraft TEXT,
  altitude INT,
  heavy BOOLEAN,
  FOREIGN KEY (origin) REFERENCES airports(aid)
);
```

```{sql CreateConditionsTable, connection=dbcon}
CREATE TABLE IF NOT EXISTS conditions (
  cid INT PRIMARY KEY,
  sky_condition TEXT,
  explanation TEXT
);
```

```{sql CreateStrikesTable, connection=dbcon}
CREATE TABLE IF NOT EXISTS strikes (
  sid INT PRIMARY KEY AUTO_INCREMENT,
  fid INT,
  numbirds INT,
  impact TEXT,
  damage BOOLEAN,
  altitude INT CHECK (altitude >= 0),
  conditions INT,
  FOREIGN KEY (conditions) REFERENCES conditions(cid),
  FOREIGN KEY (fid) REFERENCES flights(fid)
);
```

## Disconnect From Database

```{r}
dbDisconnect(dbcon)
```